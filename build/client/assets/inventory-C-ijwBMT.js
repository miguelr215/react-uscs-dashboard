import{w as A,a as o,p as t}from"./chunk-OIYGIGL5-CMUvuLFw.js";import{u as F,a as I,b as N,c as S,d as E,e as m,L as l,H as M,C as b}from"./useDoughnutCatLabels-D4R5Edbk.js";import{D as $,L as x}from"./DoughnutChart-BBMBpI14.js";import{u as H}from"./useDoughnutData-BsXcun6D.js";import"./DashboardContext-CplvL782.js";function P(a){return a.map(r=>r.inventoryByMonth.map(s=>s.amount))}function k(a){const n=a.slice(1).map((r,s)=>(r-a[s])/a[s]*100);return n.unshift(0),n}const B=()=>{const[a,n]=o.useState(null),[r,s]=o.useState(null),[i,f]=o.useState(null),{products:c,categories:C,currentCategory:e,loading:g,error:d}=F();return o.useEffect(()=>{const u=I(c,e),p=P(u),h=N(p),D=m(`12 Month Inventory for ${e}`,h),v=k(h),j=m(`Month-to-Month % Change in Inventory for ${e}`,v),y=H(u,e),w=e==="All"?C.slice(1):S(u,e),L=E(`Current Inventory for ${e}`,y,w);n(D),s(j),f(L)},[c,e]),g?t.jsx(l,{}):d?t.jsxs("p",{className:"text-red-500",children:["Error: ",d]}):t.jsxs("section",{children:[t.jsx(M,{title:"Inventory",description:"View inventory stats to make informed decisions"}),t.jsx(b,{}),t.jsxs("div",{className:"flex flex-col gap-6 items-center lg:flex-row",children:[i?t.jsx("div",{className:"w-full max-w-xl lg:max-w-lg",children:t.jsx($,{data:i})}):t.jsx(l,{}),t.jsxs("div",{className:"flex flex-col gap-6",children:[a?t.jsx("div",{className:"w-full max-w-xl",children:t.jsx(x,{data:a})}):t.jsx(l,{}),r?t.jsx("div",{className:"w-full max-w-xl",children:t.jsx(x,{data:r})}):t.jsx(l,{})]})]})]})},z=A(B);export{z as default};
